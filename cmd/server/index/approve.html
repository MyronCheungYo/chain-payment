<!DOCTYPE html>
<html>
<body>
<button id="approve">Approve Token</button>

<script type="module">
    import { ethers } from "https://cdn.jsdelivr.net/npm/ethers@6/dist/ethers.min.js";

    const tokenAddress = "0xC551f97F55B4ca5484E64eFCd72127110Cb82bCD";
    const x402Address = "0xaaBD52cB0881e3A8d8fe6Fc98DA7A5fCeD2ed6A7";

    document.getElementById("approve").onclick = async () => {
        const provider = new ethers.BrowserProvider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        const signer = await provider.getSigner();

        const abi = [
            "function approve(address spender, uint256 amount) public returns (bool)"
        ];

        const token = new ethers.Contract(tokenAddress, abi, signer);

        const tx = await token.approve(x402Address, ethers.parseEther("10"));
        await tx.wait();

        alert("Token approved!");
    };
</script>
</body>
</html>
